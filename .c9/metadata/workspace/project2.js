{"filter":false,"title":"project2.js","tooltip":"/project2.js","undoManager":{"mark":0,"position":0,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":0,"column":0},"end":{"row":0,"column":13}},"text":"\"use strict\";"},{"action":"insertText","range":{"start":{"row":0,"column":13},"end":{"row":1,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":1,"column":0},"end":{"row":250,"column":0}},"lines":["var div;","var blink;","var timer;","var whiteSpaceY;","var whiteSpaceX;","","window.onload = function ()","{","\tvar puzzlearea = document.getElementById('puzzlearea');","\t","\tdiv = puzzlearea.getElementsByTagName('div');","","\tfor (var i=0; i<div.length; i++)","\t{","\t\tdiv[i].className = 'puzzlepiece';","\t\tdiv[i].style.left = (i%4*100)+'px';","\t\tdiv[i].style.top = (parseInt(i/4)*100) + 'px';","\t\tdiv[i].style.backgroundPosition= '-' + div[i].style.left + ' ' + '-' + div[i].style.top;","\t\tdiv[i].onmouseover = function()","\t\t{","\t\t\tif (checkCanMove(parseInt(this.innerHTML)))","\t\t\t{","\t\t\t\tthis.style.border = \"2px solid red\";","\t\t\t\tthis.style.color = \"#006600\";","\t\t\t}","\t\t};","\t\tdiv[i].onmouseout = function()","\t\t{","\t\t\tthis.style.border = \"2px solid black\";","\t\t\tthis.style.color = \"#000000\";","\t\t};","","\t\tdiv[i].onclick = function()","\t\t{","\t\t\tif (checkCanMove(parseInt(this.innerHTML)))","\t\t\t{","\t\t\t\tswap(this.innerHTML-1);","\t\t\t\tif (checkFinish())","\t\t\t\t{","\t\t\t\t\tyouWin();","\t\t\t\t}","\t\t\t\treturn;","\t\t\t}","\t\t};","\t}","","\twhiteSpaceX = '300px';","\twhiteSpaceY = '300px';","","\tvar shufflebutton = document.getElementById('shufflebutton');","\tshufflebutton.onclick = function()","\t{","","\t\tfor (var i=0; i<250; i++)","\t\t{","\t\t\tvar rand = parseInt(Math.random()* 100) %4;","\t\t\tif (rand == 0)","\t\t\t{","\t\t\t\tvar tmp = calcUp(whiteSpaceX, whiteSpaceY);","\t\t\t\tif ( tmp != -1)","\t\t\t\t{","\t\t\t\t\tswap(tmp);","\t\t\t\t}","\t\t\t}","\t\t\tif (rand == 1)","\t\t\t{","\t\t\t\tvar tmp = calcDown(whiteSpaceX, whiteSpaceY);","\t\t\t\tif ( tmp != -1) ","\t\t\t\t{","\t\t\t\t\tswap(tmp);","\t\t\t\t}","\t\t\t}","","\t\t\tif (rand == 2)","\t\t\t{","\t\t\t\tvar tmp = calcLeft(whiteSpaceX, whiteSpaceY);","\t\t\t\tif ( tmp != -1)","\t\t\t\t{","\t\t\t\t\tswap(tmp);","\t\t\t\t}","\t\t\t}","","\t\t\tif (rand == 3)","\t\t\t{","\t\t\t\tvar tmp = calcRight(whiteSpaceX, whiteSpaceY);","\t\t\t\tif (tmp != -1)","\t\t\t\t{","\t\t\t\t\tswap(tmp);","\t\t\t\t}","\t\t\t}","\t\t}","\t};","};","","function checkCanMove(pos)","{","\tif (calcLeft(whiteSpaceX, whiteSpaceY) == (pos-1))","\t{","\t\treturn true;","\t}","","\tif (calcDown(whiteSpaceX, whiteSpaceY) == (pos-1))","\t{","\t\treturn true;","\t}","","\tif (calcUp(whiteSpaceX, whiteSpaceY) == (pos-1))","\t{","\t\treturn true;","\t}","","\tif (calcRight(whiteSpaceX, whiteSpaceY) == (pos-1))","\t{","\t\treturn true;","\t}","}","function Blink()","{","\tblink --;","\tif (blink == 0)","\t{","\t\tvar body = document.getElementsByTagName('body');","\t\tbody[0].style.backgroundColor = \"#FFFFFF\";","\t\talert('you win');","\t\treturn;","\t}","\tif (blink % 2)","\t{","\t\tvar body = document.getElementsByTagName('body');","\t\tbody[0].style.backgroundColor = \"#00FF00\";\t","\t}","\telse","\t{","\t\tvar body = document.getElementsByTagName('body');","\t\tbody[0].style.backgroundColor = \"#FF0000\";","\t}","\ttimer = setTimeout(Blink, 100);","}","","function youWin()","{","\tvar body = document.getElementsByTagName('body');","\tbody[0].style.backgroundColor = \"#FF0000\";","\tblink = 10;","\ttimer = setTimeout(Blink, 100);","}","","function checkFinish()","{","\tvar flag = true;","\tfor (var i = 0; i < div.length; i++) {","\t\tvar y = parseInt(div[i].style.top);","\t\tvar x = parseInt(div[i].style.left);","","\t\tif (x != (i%4*100) || y != parseInt(i/4)*100)","\t\t{","\t\t\tflag = false;","\t\t\tbreak;","\t\t}","\t}","\treturn flag;","}","","function calcLeft(x, y)","{","\tvar xx = parseInt(x);","\tvar yy = parseInt(y);","","\tif (xx > 0)","\t{","\t\tfor (var i = 0; i < div.length; i++) ","\t\t{","\t\t\tif (parseInt(div[i].style.left) + 100 == xx && parseInt(div[i].style.top) == yy)","\t\t\t{","\t\t\t\treturn i;","\t\t\t} ","\t\t}","\t}","\telse ","\t{","\t\treturn -1;","\t}","}","","function calcRight (x, y) {","\tvar xx = parseInt(x);","\tvar yy = parseInt(y);","\tif (xx < 300)","\t{","\t\tfor (var i =0; i<div.length; i++){","\t\t\tif (parseInt(div[i].style.left) - 100 == xx && parseInt(div[i].style.top) == yy) ","\t\t\t{","\t\t\t\treturn i;","\t\t\t}","\t\t}","\t}","\telse","\t{","\t\treturn -1;","\t} ","}","","function calcUp (x, y) {","\tvar xx = parseInt(x);","\tvar yy = parseInt(y);","\tif (yy > 0)","\t{","\t\tfor (var i=0; i<div.length; i++)","\t\t{","\t\t\tif (parseInt(div[i].style.top) + 100 == yy && parseInt(div[i].style.left) == xx) ","\t\t\t{","\t\t\t\treturn i;","\t\t\t}","\t\t} ","\t}","\telse ","\t{","\t\treturn -1;","\t}","}","","function calcDown (x, y)","{","\tvar xx = parseInt(x);","\tvar yy = parseInt(y);","\tif (yy < 300)","\t{","\t\tfor (var i=0; i<div.length; i++)","\t\t{","\t\t\tif (parseInt(div[i].style.top) - 100 == yy && parseInt(div[i].style.left) == xx) ","\t\t\t{","\t\t\t\treturn i;","\t\t\t}","\t\t}","\t}","\telse","\t{","\t\treturn -1;","\t} ","}","","function swap (pos) {","\tvar temp = div[pos].style.top;","\tdiv[pos].style.top = whiteSpaceY;","\twhiteSpaceY = temp;","","\ttemp = div[pos].style.left;","\tdiv[pos].style.left = whiteSpaceX;","\twhiteSpaceX = temp;"]},{"action":"insertText","range":{"start":{"row":250,"column":0},"end":{"row":250,"column":1}},"text":"}"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":250,"column":1},"end":{"row":250,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1414995520351,"hash":"0d14a89105e041f43e564510cbae8f5c1a17d161"}